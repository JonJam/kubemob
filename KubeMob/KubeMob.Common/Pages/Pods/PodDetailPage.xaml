<?xml version="1.0" encoding="utf-8" ?>
<base:ExtendedContentPage xmlns="http://xamarin.com/schemas/2014/forms"
                          xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                          xmlns:markupExtensions="clr-namespace:KubeMob.Common.MarkupExtensions;assembly=KubeMob.Common"
                          xmlns:base="clr-namespace:KubeMob.Common.Pages.Base;assembly=KubeMob.Common"
                          xmlns:views="clr-namespace:KubeMob.Common.Views"
                          xmlns:common="clr-namespace:KubeMob.Common;assembly=KubeMob.Common"
                          xmlns:forms="clr-namespace:FFImageLoading.Forms;assembly=FFImageLoading.Forms"
                          xmlns:transformations="clr-namespace:FFImageLoading.Transformations;assembly=FFImageLoading.Transformations"
                          x:Class="KubeMob.Common.Pages.Pods.PodDetailPage"
                          Title="{markupExtensions:Translate DetailPage_Details}"
                          ControlTemplate="{StaticResource NewObjectDetailTemplate}">

    <base:ExtendedContentPage.IconImage>
        <forms:CachedImage
            Source="details.png">
            <forms:CachedImage.Transformations>
                <transformations:TintTransformation
                    HexColor="{StaticResource KubernetesBlueRawColor}"
                    EnableSolidColor="true"/>
            </forms:CachedImage.Transformations>
        </forms:CachedImage>
    </base:ExtendedContentPage.IconImage>

<!--TODO Add content-->

    <StackLayout>
        <StackLayout
            Style="{StaticResource DetailSectionStackLayoutStyle}">

            <views:DetailProperty
                Label="{markupExtensions:Translate DetailPage_Details_Name}"
                Value="{Binding Detail.Name}"/>

            <views:DetailProperty
                Label="{markupExtensions:Translate DetailPage_Details_Namespace}"
                Value="{Binding Detail.NamespaceName}"/>

            <views:DetailProperty
                Label="{markupExtensions:Translate DetailPage_Details_CreationTime}"
                Value="{Binding Detail.CreationTime}"/>

            <views:DetailProperty
                Label="{markupExtensions:Translate DetailPage_Details_Status}"
                Value="{Binding Detail.Status}"/>

            <views:DetailProperty
                Label="{markupExtensions:Translate PodDetailPage_Details_QoS}"
                Value="{Binding Detail.QualityOfServiceClass}"/>

            <Label
                Text="{markupExtensions:Translate PodDetailPage_Details_Node}"
                Style="{DynamicResource ListItemTextStyle}"/>
            <Label
                Text="{Binding Detail.NodeName}"
                Style="{StaticResource InterativeLabelStyle}">
                <Label.GestureRecognizers>
                    <TapGestureRecognizer
                        Command="{Binding NavigateToNodeDetailCommand}"/>
                </Label.GestureRecognizers>
            </Label>

            <views:DetailProperty
                Label="{markupExtensions:Translate PodDetailPage_Details_IpAddress}"
                Value="{Binding Detail.PodIpAddress}"/>

        </StackLayout>

        <Label
            Text="{markupExtensions:Translate DetailPage_Details_Labels}"
            Style="{StaticResource DetailSectionTitleLabelStyle}"
            IsVisible="{Binding Detail.Labels, Converter={StaticResource NotEmptyToBoolConverter}}"/>

        <views:MetadataItemsControl
            ItemsSource="{Binding Detail.Labels}"
            IsVisible="{Binding Detail.Labels, Converter={StaticResource NotEmptyToBoolConverter}}"
            PopupCommand="{Binding DisplayMetadataItemCommand}"/>

        <Label
            Text="{markupExtensions:Translate DetailPage_Details_Annotations}"
            Style="{StaticResource DetailSectionTitleLabelStyle}"
            IsVisible="{Binding Detail.Annotations, Converter={StaticResource NotEmptyToBoolConverter}}"/>

        <views:MetadataItemsControl
            ItemsSource="{Binding Detail.Annotations}"
            IsVisible="{Binding Detail.Annotations, Converter={StaticResource NotEmptyToBoolConverter}}"
            PopupCommand="{Binding DisplayMetadataItemCommand}"/>
    </StackLayout>

    <!--TODO Add content below-->
    <!--<StackLayout>

        <Label
            Text="{markupExtensions:Translate PodDetailPage_Containers}"
            Style="{StaticResource ObjectDetailsSectionLabelStyle}"/>
        <views:ItemsControl
            ItemsSource="{Binding Detail.Containers}">
            <views:ItemsControl.ItemTemplate>
                <DataTemplate>
                    <StackLayout>
                        <Label
                            Text="{Binding Name}"/>

                        <Label
                            Text="{markupExtensions:Translate PodDetailPage_Containers_Image}"
                            Style="{StaticResource ObjectDetailsPropertyNameLabelStyle}"/>
                        <Label
                            Text="{Binding Image}"/>

                        <Label
                            Text="{markupExtensions:Translate PodDetailPage_Containers_EnvironmentVariables}"
                            Style="{StaticResource ObjectDetailsPropertyNameLabelStyle}"
                            IsVisible="{Binding EnvironmentVariables, Converter={StaticResource NotEmptyToBoolConverter}}"/>
                        <views:ItemsControl
                            ItemsSource="{Binding EnvironmentVariables}"
                            IsVisible="{Binding EnvironmentVariables, Converter={StaticResource NotEmptyToBoolConverter}}">
                            <views:ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <StackLayout>
                                        <Label
                                            Text="{Binding Name}"/>
                                        <Label
                                            Text="{Binding Value}"
                                            IsVisible="{Binding Value, Converter={StaticResource NotEmptyToBoolConverter}}"/>
                                    </StackLayout>
                                </DataTemplate>
                            </views:ItemsControl.ItemTemplate>
                        </views:ItemsControl>

                        <Label
                            Text="{markupExtensions:Translate PodDetailPage_Containers_Commands}"
                            Style="{StaticResource ObjectDetailsPropertyNameLabelStyle}"
                            IsVisible="{Binding Commands, Converter={StaticResource NotEmptyToBoolConverter}}"/>
                        <views:ItemsControl
                            ItemsSource="{Binding Commands}"
                            IsVisible="{Binding Commands, Converter={StaticResource NotEmptyToBoolConverter}}">
                            <views:ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Label
                                        Text="{Binding .}"/>
                                </DataTemplate>
                            </views:ItemsControl.ItemTemplate>
                        </views:ItemsControl>

                        <Label
                            Text="{markupExtensions:Translate PodDetailPage_Containers_Args}"
                            Style="{StaticResource ObjectDetailsPropertyNameLabelStyle}"
                            IsVisible="{Binding Arguments, Converter={StaticResource NotEmptyToBoolConverter}}"/>
                        <views:ItemsControl
                            ItemsSource="{Binding Arguments}"
                            IsVisible="{Binding Arguments, Converter={StaticResource NotEmptyToBoolConverter}}">
                            <views:ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Label
                                        Text="{Binding .}"/>
                                </DataTemplate>
                            </views:ItemsControl.ItemTemplate>
                        </views:ItemsControl>
                    </StackLayout>
                </DataTemplate>
            </views:ItemsControl.ItemTemplate>
        </views:ItemsControl>

        <Label
            Text="{markupExtensions:Translate Conditions}"             
            Style="{StaticResource ObjectDetailsSectionLabelStyle}"/>
        <views:ItemsControl
            x:Name="Conditions"
            ItemsSource="{Binding Detail.Conditions}"
            PlaceholderText="{markupExtensions:Translate EmptyMessage}">
            <views:ItemsControl.ItemTemplate>
                <DataTemplate>
                    <views:TappableView
                        Command="{Binding Source={x:Reference Conditions}, Path=BindingContext.NavigateToConditionDetailCommand}"
                        CommandParameter="{Binding .}">
                        <Label
                            Text="{Binding Type}"
                            LineBreakMode="TailTruncation"/>
                    </views:TappableView>
                </DataTemplate>
            </views:ItemsControl.ItemTemplate>
        </views:ItemsControl>

        <Label
            Text="{markupExtensions:Translate PodDetailPage_CreatedBy}"
            Style="{StaticResource ObjectDetailsSectionLabelStyle}"/>
        <views:ItemsControl
            x:Name="Owners"
            ItemsSource="{Binding Detail.Owners}">
            <views:ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Button
                        Text="{Binding Summary}"
                        Command="{Binding Source={x:Reference Owners}, Path=BindingContext.NavigateToOwnerCommand}"
                        CommandParameter="{Binding .}"/>
                </DataTemplate>
            </views:ItemsControl.ItemTemplate>
        </views:ItemsControl>

        <Button
            Text="{markupExtensions:Translate ViewRelatedPersistentVolumeClaims}"
            Command="{Binding ViewRelatedPersistentVolumeClaimsCommand}"/>
    </StackLayout>-->
</base:ExtendedContentPage>